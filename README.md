
# Tinscape

_A tiny real time terrain renderer based on software rendering (except maybe for the frame buffer copy)._

**Note:** I initially hosted this on googlecode and, mea culpa, did not use Google's Export-To-GitHub before they shut it down. Several attemps to restore the 2009 history failed. To cut the gordian knot, I converted this repo by manually stuffing everything into a single git commit.

## About

Tinscape, a realtime terrain/heightmap ray caster (with Preetham, et al. based skymap), was started as a little exercise on SSE programming and optimisation in general. It is still very special, and optimisation isn't over yet, and soon more optimisations on newer x86/SSE machinery will be done.

There's also the chance that tinscape will be used as a terrain previewer in the terrain synthesizer and realistic renderer picogen (http://picogen.org , http://picogen.googlecode.com, http://ohloh.net/projects/picogen/ ).

It is currently in a messy state, and I can only say that it will run and compile on 32bit x86 with at least SSE 1.

**Update:** It also compiles+runs on AMD64/x68-64.

The following screenshot has been rendered at 10 frames per second at 1680x1050 on a AMD Phenom Quad-Core Box, 2.6GHz. Note that it still only uses SSE1 instructions, and I think I could gain better performance using SSE2's MMX equivalents (for address calculus):

![](http://phresnel.org/images/tinscape.png)


## Some minor details 

* Terrain: stored in a heightmap, intersected using a ray surfing implementation
* Uses bilinear interpolation for heightmap/ray intersection (could run massively faster without that feature)
* Sky: 2d-Skymap, generated by a partial Preetham implementation. I have arranged it so that the horizontal ray components can be used as indices into the skymap.
* While intended to be a 4DOF renderer, I was yet too lazy to implement rotation around the vertical axis, hence it is only a 3DOF renderer at the moment (though the underlying architecture allows for rotation!)
